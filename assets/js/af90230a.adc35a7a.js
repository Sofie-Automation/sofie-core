"use strict";(self.webpackChunksofie_documentation=self.webpackChunksofie_documentation||[]).push([[7981],{99035:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"user-guide/features/access-levels","title":"Access Levels","description":"Permissions","source":"@site/docs/user-guide/features/access-levels.md","sourceDirName":"user-guide/features","slug":"/user-guide/features/access-levels","permalink":"/sofie-core/docs/user-guide/features/access-levels","draft":false,"unlisted":false,"editUrl":"https://github.com/Sofie-Automation/sofie-core/edit/main/packages/documentation/docs/user-guide/features/access-levels.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"userGuide","previous":{"title":"Sofie Views","permalink":"/sofie-core/docs/user-guide/features/sofie-views"},"next":{"title":"Prompter","permalink":"/sofie-core/docs/user-guide/features/prompter"}}');var i=t(62540),o=t(43023);const r={sidebar_position:3},a="Access Levels",l={},d=[{value:"Permissions",id:"permissions",level:2},{value:"Authentication providers",id:"authentication-providers",level:2},{value:"Browser based",id:"browser-based",level:3},{value:"See Also",id:"see-also",level:4},{value:"Header based",id:"header-based",level:3}];function c(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"access-levels",children:"Access Levels"})}),"\n",(0,i.jsx)(s.h2,{id:"permissions",children:"Permissions"}),"\n",(0,i.jsx)(s.p,{children:"There are a few different access levels that users can be assigned. They are not heirarchical, you will often need to enable multiple for each user.\nAny client that can access Sofie always has at least view-only access to the rundowns, and system status pages."}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Level"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Summary"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.strong,{children:"studio"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"Grants access to operate a studio for playout of a rundown."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.strong,{children:"configure"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"Grants access to the settings pages of Sofie, and other abilities to configure the system."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.strong,{children:"developer"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"Grants access to some tools useful to developers. This also changes some ui behaviours to be less agressive in what is shown in the rundown view"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.strong,{children:"testing"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"Enables the page Test Tools, which contains various tools useful for testing the system during development"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.strong,{children:"service"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"Grants access to the external message status page, and some additional rundown management options that are not commonly needed"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.strong,{children:"gateway"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"Grants access to various APIs intended for use by the various gateways that connect Sofie to other systems."})]})]})]}),"\n",(0,i.jsx)(s.h2,{id:"authentication-providers",children:"Authentication providers"}),"\n",(0,i.jsx)(s.p,{children:"There are two ways to define the access for each user, which to use depends on your security requirements."}),"\n",(0,i.jsx)(s.h3,{id:"browser-based",children:"Browser based"}),"\n",(0,i.jsx)(s.admonition,{type:"info",children:(0,i.jsx)(s.p,{children:"This is a simple mode that relies on being able to trust every client that can connect to Sofie"})}),"\n",(0,i.jsx)(s.p,{children:"In this mode, a variety of access levels can be set via the URL. The access level is persisted in browser's Local Storage."}),"\n",(0,i.jsxs)(s.p,{children:["By default, a user cannot edit settings, nor play out anything. Some of the access levels provide additional administrative pages or helpful tool tips for new users. These modes are persistent between sessions and will need to be manually enabled or disabled by appending a suffix to the url.\nEach of the modes listed in the levels table above can be used here, such as by navigating to ",(0,i.jsx)(s.code,{children:"https://my-sofie/?studio=1"})," to enable studio mode, or ",(0,i.jsx)(s.code,{children:"https://my-sofie/?studio=0"})," to disable studio mode."]}),"\n",(0,i.jsx)(s.p,{children:"There are some additional url parameters that can be used to simplify the granting of permissions:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"?help=1"})," will enable some tooltips that might be useful to new users."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"?admin=1"})," will give the user the same access as the ",(0,i.jsx)(s.em,{children:"Configuration"})," and ",(0,i.jsx)(s.em,{children:"Studio"})," modes as well as having access to a set of ",(0,i.jsx)(s.em,{children:"Test Tools"})," and a ",(0,i.jsx)(s.em,{children:"Manual Control"})," section on the Rundown page."]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"see-also",children:"See Also"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"/sofie-core/docs/for-developers/url-query-parameters",children:"URL Query Parameters"})}),"\n",(0,i.jsx)(s.h3,{id:"header-based",children:"Header based"}),"\n",(0,i.jsx)(s.admonition,{type:"danger",children:(0,i.jsx)(s.p,{children:"This mode is very new and could have some undiscovered holes.\nIt is known that secrets can be leaked to all clients who can connect to Sofie, which is not desirable."})}),"\n",(0,i.jsxs)(s.p,{children:["In this mode, we rely on Sofie being run behind a reverse-proxy which will inform Sofie of the permissions of each connection. This allows you to use your organisations preferred auth provider, and translate that into something that Sofie can understand.\nTo enable this mode, you need to enable the ",(0,i.jsx)(s.code,{children:"enableHeaderAuth"})," property in the ",(0,i.jsx)(s.a,{href:"/sofie-core/docs/user-guide/configuration/sofie-core-settings",children:"settings file"})]}),"\n",(0,i.jsxs)(s.p,{children:["Sofie expects that for each DDP connection or http request, the ",(0,i.jsx)(s.code,{children:"dnt"})," header will be set containing a comma separated list of the levels from the above table. If the header is not defined or is empty, the connection will have view-only access to Sofie.\nThis header can also contain simply ",(0,i.jsx)(s.code,{children:"admin"})," to grant the connection permission to everything.\nWe are using the ",(0,i.jsx)(s.code,{children:"dnt"})," header due to limitations imposed by Meteor, but intend this to become a proper header name in a future release."]}),"\n",(0,i.jsx)(s.p,{children:"When in this mode, you should make sure that Sofie can only be accessed through the reverse proxy, and that the reverse-proxy will always override any value sent by a client.\nBecause the value is defined in the http headers, it is not possible to revoke permissions for a user who currently has the ui open. If this is necessary to do, you can force the connection to be dropped by the reverse-proxy."})]})}function h(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},43023:(e,s,t)=>{t.d(s,{R:()=>r,x:()=>a});var n=t(63696);const i={},o=n.createContext(i);function r(e){const s=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(o.Provider,{value:s},e.children)}}}]);
$defs:
  partBase:
    type: object
    title: PartStatus
    properties:
      id:
        description: Unique id of the part
        type: string
      name:
        description: User name of the part
        type: string
      segmentId:
        description: Unique id of the segment this part belongs to
        type: string
      autoNext:
        description: If this part will progress to the next automatically
        type: boolean
        default: false
      pieces:
        description: All pieces in this part
        type: array
        items:
          $ref: '../piece/piece.yaml#/$defs/piece'
      publicData:
        description: Optional arbitrary data
    required: [id, name, segmentId, pieces]
    examples:
      - id: 'H5CBGYjThrMSmaYvRaa5FVKJIzk_'
        name: 'Intro'
        segmentId: 'n1mOVd5_K5tt4sfk6HYfTuwumGQ_'
        pieces:
          - $ref: '../piece/piece.yaml#/$defs/piece/examples/0'
        publicData:
          partType: 'intro'

  currentPart:
    oneOf:
      - title: CurrentPartStatus
        allOf:
          - $ref: '#/$defs/partBase'
          - type: object
            properties:
              timing:
                $ref: '../timing/currentPartTiming.yaml#/$defs/currentPartTiming'
            required: [timing]
      - type: 'null'

  part:
    oneOf:
      - $ref: '#/$defs/partBase'
      - type: 'null'

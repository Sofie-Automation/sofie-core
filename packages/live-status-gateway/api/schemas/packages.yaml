title: Packages
description: Packages schema for websocket subscriptions. Packages are assets that need to be prepared by Sofie Package Manager or third-party systems to make AdLibs and Pieces playable.
$defs:
  packages:
    type: object
    properties:
      event:
        type: string
        const: packages
      rundownPlaylistId:
        description: Unique id of the rundown playlist, or null if no playlist is active
        oneOf:
          - type: string
          - type: 'null'
      packages:
        description: The Package statuses for this playlist
        type: array
        items:
          $ref: '#/$defs/package'
    required: [event, rundownPlaylistId, packages]
    additionalProperties: false
    examples:
      - event: packages
        rundownPlaylistId: 'OKAgZmZ0Buc99lE_2uPPSKVbMrQ_'
        packages:
          $ref: '#/$defs/package/examples'
  package:
    type: object
    properties:
      packageName:
        description: Name of the package
        type: string
      statusCode:
        description: Status code
        type: number
      rundownId:
        description: Id of the Rundown that a Piece (or AdLib) expecting this package belongs to
        type: string
      partId:
        description: Id of the Part that a Piece (or AdLib) expecting this package belongs to. It could be an Id of a Part from the Active Playlist topic, or a Part not exposed otherwise by the LSG.
        type: string
      segmentId:
        description: Id of the Segment that a Piece (or AdLib) expecting this package belongs to
        type: string
      pieceOrAdLibId:
        description: Id of the Piece or AdLib that expects this package. It could be an Id of a Piece from the Active Pieces and Active Playlist topics, or an Id of an AdLib from the AdLibs topic. It could also be an Id of a Piece not exposed otherwise by the LSG, but still relevant, e.g. to summarize the status of packages within a specific Part/Segment.
        type: string
      thumbnailUrl:
        description: URL where the thumbnail can be accessed
        type: string
      previewUrl:
        description: URL where the preview can be accessed
        type: string
    required: [statusCode, rundownId, pieceOrAdLibId]
    additionalProperties: false
    examples:
      - packageName: 'MV000123.mxf'
        statusCode: 0
        rundownId: 'y9HauyWkcxQS3XaAOsW40BRLLsI_'
        pieceOrAdLibId: 'C6K_yIMuGFUk8X_L9A9_jRT6aq4_'
        thumbnailUrl: 'https://package-manager.local/package/MV000123.mov_thumbnail.jpg'
